<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

        <meta name="author" content="(Marcello Gallucci)" />
    
    
    <title>Mixed models: model syntax</title>

        <script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
        <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="site_libs/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="site_libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>
        <script src="site_libs/navigation-1.1/tabsets.js"></script>
        <link href="site_libs/magnific-popup-1.1.0/magnific-popup.css" rel="stylesheet" />
        <script src="site_libs/magnific-popup-1.1.0/jquery.magnific-popup.min.js"></script>
        <link href="site_libs/readthedown-0.1/readthedown.css" rel="stylesheet" />
        <link href="site_libs/readthedown-0.1/readthedown_fonts_embed.css" rel="stylesheet" />
        <script src="site_libs/readthedown-0.1/readthedown.js"></script>
        <script>
        $(document).ready(function () {

            if ($(".root")[0]){
            $(".toc-details" > a).on("click", function(e) {
                window.scrollBy(0, 100);
            })
                  return
            };
            $('.navbar-toggle').show();
            $('.navbar').css('display', 'none');
            $('#sidebar > h2 ').append("<a id='navbut' href=''><i class='fa fa-bars'></i></a>");
            $('#navbut').on( "click", function(e) {
                       $('.navbar').toggle();
                       e.preventDefault();
               } );
              $('.navbar-toggle').on('click', function(e) {
                       $('.navbar').toggle();
                       e.preventDefault();
              });       
            $(window).scroll(function (event) {
                $('.navbar').css('display', 'none');
            });       
        });
        </script>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LLVCE05YX9"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-LLVCE05YX9');
        </script>
    
    
        <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">
      html { -webkit-text-size-adjust: 100%; }
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          background-color: #ffffff;
          color: #a0a0a0;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
      div.sourceCode
        { color: #1f1c1b; background-color: #ffffff; }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span { color: #1f1c1b; } /* Normal */
      code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
      code span.an { color: #ca60ca; } /* Annotation */
      code span.at { color: #0057ae; } /* Attribute */
      code span.bn { color: #b08000; } /* BaseN */
      code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
      code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #924c9d; } /* Char */
      code span.cn { color: #aa5500; } /* Constant */
      code span.co { color: #898887; } /* Comment */
      code span.cv { color: #0095ff; } /* CommentVar */
      code span.do { color: #607880; } /* Documentation */
      code span.dt { color: #0057ae; } /* DataType */
      code span.dv { color: #b08000; } /* DecVal */
      code span.er { color: #bf0303; text-decoration: underline; } /* Error */
      code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
      code span.fl { color: #b08000; } /* Float */
      code span.fu { color: #644a9b; } /* Function */
      code span.im { color: #ff5500; } /* Import */
      code span.in { color: #b08000; } /* Information */
      code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
      code span.op { color: #1f1c1b; } /* Operator */
      code span.ot { color: #006e28; } /* Other */
      code span.pp { color: #006e28; } /* Preprocessor */
      code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
      code span.sc { color: #3daee9; } /* SpecialChar */
      code span.ss { color: #ff5500; } /* SpecialString */
      code span.st { color: #bf0303; } /* String */
      code span.va { color: #0057ae; } /* Variable */
      code span.vs { color: #bf0303; } /* VerbatimString */
      code span.wa { color: #bf0303; } /* Warning */
    </style>
    
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" type="text/css" />
        <link rel="stylesheet" href="down.css" type="text/css" />
        <link rel="stylesheet" href="mcdocs.css" type="text/css" />
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
    
    <!-- code download -->
    
    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .tabset-dropdown > .nav-tabs > li.active a {
  	  padding: 0 15px !important;
      }

      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
	  margin-left: 0 !important;
      }
    </style>
    
</head>

<body class="preload">

   	
         <!-- readthedown start -->   
   <div id="content" data-toggle="wy-nav-shift">
     <nav id="nav-top" role="navigation" aria-label="top navigation">
       <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
     </nav>
         
   
      
      <div class="navbar navbar-default  navbar-fixed-top" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">PAMLj</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li>
        <a href="ttest.html">t-test</a>
      </li>
      <li>
        <a href="correlation.html">Correlation</a>
      </li>
      <li>
        <a href="prop.html">Proportions</a>
      </li>
      <li>
        <a href="glm.html">GLM</a>
      </li>
      <li>
        <a href="factorial.html">Factorial</a>
      </li>
      <li>
        <a href="mediation.html">Mediation</a>
      </li>
      <li>
        <a href="sem.html">SEM</a>
      </li>
      <li>
        <a href="mixed.html">Mixed Models</a>
      </li>
      <li>
        <a href="rosetta.html">Rosetta</a>
      </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li>
        <a href="https://github.com/pamlj/pamlj">View on Github</a>
      </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container -->
      </div><!--/.navbar -->
        
      <h1 class="title">Mixed models: model syntax</h1>
      
         <!-- readthedown authors -->
   <div id="sidebar">
    <h2><a href="#content">Mixed models: model syntax</a></h2>
    <div id="toc">
      <ul>
      <li><a href="#model-syntax" id="toc-model-syntax">Model Syntax</a>
      <ul>
      <li><a href="#model-terms" id="toc-model-terms">Model
      Terms</a></li>
      <li><a href="#model-coefficients"
      id="toc-model-coefficients">Model Coefficients</a></li>
      <li><a href="#model-coefficients-sign"
      id="toc-model-coefficients-sign">Model Coefficients sign</a></li>
      <li><a href="#multiple-clustering-variables"
      id="toc-multiple-clustering-variables">Multiple clustering
      variables</a></li>
      <li><a href="#symbolic-coefficients"
      id="toc-symbolic-coefficients">Symbolic coefficients</a></li>
      </ul></li>
      <li><a href="#additional-directives"
      id="toc-additional-directives">Additional directives</a>
      <ul>
      <li><a href="#testing-a-specific-effect"
      id="toc-testing-a-specific-effect">Testing a specific
      effect</a></li>
      <li><a href="#variables-levels"
      id="toc-variables-levels">Variables levels</a></li>
      </ul></li>
      <li><a href="#additional-material"
      id="toc-additional-material">Additional material</a></li>
      <li><a href="#details" id="toc-details">Details</a></li>
      <li><a href="#examples" id="toc-examples">Examples</a></li>
      <li><a href="#comments" id="toc-comments">Comments?</a></li>
      </ul>
    </div>
    <div id="postamble" data-toggle="wy-nav-shift" class="status">
                  <p class="author"><span class="glyphicon glyphicon-user"></span> (Marcello
Gallucci)</p>
                      </div>
   </div>
     

   
      
   
<!-- Don't indent these lines or it will mess pre blocks indentation --> 
<div id="main">
<p><span class="keywords"> <span class="keytitle"> keywords </span>
power analysis, mixed models, multiple clusters, participants by stimuli
</span></p>
<div class="version">
<p>
0.8.2
</p>
</div>
<div style="clear:both">

</div>
<p>Here we discuss some rules in defining mixed models for mixed models
power analysis in <span class="modulename">PAMLj</span>.</p>
<div id="model-syntax" class="section level1">
<h1>Model Syntax</h1>
<p>Power analysis for mixed model requires to input a mixed model with
all the expected coefficients. <span class="modulename">PAMLj</span>
employs a custom syntax based on R package <code>lme4</code> <span
class="citation">(Bates et al. 2015)</span> standard formulas, modified
to easily pass coefficients.</p>
<div id="model-terms" class="section level3">
<h3>Model Terms</h3>
<p>First, a model in the R package <code>lme4</code> <span
class="citation">(Bates et al. 2015)</span> is to be defined. For
instance, a simple random intercept-only model may look like this</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">+</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">|</span>clustervar)</span></code></pre></div>
<p>Recall that <code>1</code> indicates the intercept: this model has a
fixed intercept, a fixed effect of <code>x</code> and a random intercept
across a variable named <code>clustervar</code>. The definition of terms
is pretty much like the R syntax, woth a few restrictions:</p>
<ul>
<li>Interactions are always defined with the column <code>:</code>,
never with the star.</li>
<li>Intercepts should always be defined with <code>1</code> or
<code>0</code>. For fixed effect, the intercept may be omitted but a
warning is issued. Better explicitly declare it.</li>
</ul>
</div>
<div id="model-coefficients" class="section level3">
<h3>Model Coefficients</h3>
<p>Second, one needs to input the coefficients of each term in the model
using the syntax <code>value*x</code>. Thus, the syntax:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+.5</span><span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>clustervar)</span></code></pre></div>
<p>This means that we expect the fixed intercept to be <span
class="math inline">\(1\)</span>, the fix coefficient associated with
<span class="math inline">\(x\)</span> to be equal to <span
class="math inline">\(.5\)</span> and we expect the variance of the
random intercept to be <span class="math inline">\(1\)</span>. There are
a few rules to follows:</p>
<ul>
<li>Each term should have a coefficient.</li>
<li>Coefficients for categorical variables are passed with the syntax
<code>[1,2,3]*x</code>, where <code>x</code> has 4 levels, so it
requires 3 contrast variables to estimate the effect.</li>
</ul>
<p>For instance, if <code>x</code> is categorical with 3 levels, the
syntax would be:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">+</span>[.<span class="dv">5</span>,<span class="dv">1</span>,<span class="fl">1.5</span>]<span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>clustervar)</span></code></pre></div>
<p>If a model has also a random coefficient of the independent variable
(random slopes), it should be added to the model with its expected
coefficient. For instance:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+.5</span><span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+1.5</span><span class="sc">*</span>x<span class="sc">|</span>clustervar)</span></code></pre></div>
<p>indicates that <code>x</code> has a random slopes whose variance is
<span class="math inline">\(1.5\)</span> across levels of
<code>clustervar</code>. If the random slopes regards a categorical
variable, the variance coefficients corresponding to the contrasts
variable representing the variable should be cast with the
<em>brackets</em> syntax:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">+</span>[.<span class="dv">5</span>,<span class="dv">1</span>,<span class="fl">1.5</span>]<span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">+</span>[<span class="fl">1.1</span>,<span class="dv">2</span>,<span class="fl">3.1</span>]<span class="sc">*</span>x<span class="sc">|</span>clustervar)</span></code></pre></div>
<p>indicating a random coefficient for the three contrasts variables
representing the effect of <code>x</code>, with variances <span
class="math inline">\(1.1\)</span>, <span
class="math inline">\(2\)</span>, and <span
class="math inline">\(3.1\)</span> respectively.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">-.5</span><span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+1.5</span><span class="sc">*</span>x<span class="sc">|</span>clustervar)</span></code></pre></div>
<p>For categorical variable, indicate the sign of the coefficient within
the brackets:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">+</span>[.<span class="dv">5</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="fl">1.5</span>]<span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>clustervar)</span></code></pre></div>
</div>
<div id="model-coefficients-sign" class="section level3">
<h3>Model Coefficients sign</h3>
<p>Coefficients can be positive or negative. For continuous independent
variables (terms) simply use the the negative sign in the formula, like
in:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">-.5</span><span class="sc">**</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>clustervar)</span></code></pre></div>
</div>
<div id="multiple-clustering-variables" class="section level3">
<h3>Multiple clustering variables</h3>
<p>Multiple clustering variables can specified, for instance:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+.5</span><span class="sc">*</span>x<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+1.5</span><span class="sc">*</span>x<span class="sc">|</span>class)<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>school)</span></code></pre></div>
</div>
<div id="symbolic-coefficients" class="section level3">
<h3>Symbolic coefficients</h3>
<p><span class="modulename">PAMLj</span> allow passing also symbolic
coefficients in the formula. Symbolic coefficients are labels that can
be used to refer to the term/coefficient in additional syntax lines.
Here an example:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">+</span>a<span class="sc">*</span>.<span class="dv">5</span><span class="sc">*</span>x<span class="sc">+</span>b<span class="sc">*</span><span class="dv">2</span><span class="sc">*</span>z<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>school)</span></code></pre></div>
<p>In this example, <code>a</code> and <code>b</code> would refer to the
coefficient of <code>x</code> and <code>z</code> respectively.</p>
</div>
</div>
<div id="additional-directives" class="section level1">
<h1>Additional directives</h1>
<p>The field <span class="option"> <b>Module Structure </b></span>
accepts additional directive over the specified model. At the moment
there is only one directive that is recognized.</p>
<div id="testing-a-specific-effect" class="section level3">
<h3>Testing a specific effect</h3>
<p>By default, <span class="modulename">PAMLj</span> computes the power
parameters for the smallest fixed effects (the coefficients with the
smallest associated power). If one wishes to test a specific
coefficient, which is not necessarily the smallest, the following syntax
can be used.</p>
<ul>
<li><code>test: alabel</code></li>
</ul>
<p>This directive implies that the estimated sample size, <em>Required
Number of cluster levels</em> or <em>Required N per cluster</em> are
solved for the effect whose label is <code>alabel</code>. Simply use a
symbolic coefficient for the target term to be tested and use
<code>test:</code> directive. In practice:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">+</span>a<span class="sc">*</span>.<span class="dv">5</span><span class="sc">*</span>x<span class="sc">+</span>b<span class="sc">*</span><span class="dv">2</span><span class="sc">*</span>z<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>school)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>test<span class="sc">:</span>b</span></code></pre></div>
<p>computes the required sample size for <code>2*z</code>, irrespective
of the fact that <code>.5*x</code> has a smaller power.</p>
</div>
<div id="variables-levels" class="section level3">
<h3>Variables levels</h3>
<p>Variables can be defined as varying either within or between. By
defaults, all categorical variables are assumed to be within cluster, or
within combinations of clusters levels. Continuous variables are draw
from a random normal distribution across the whole sample (observation)
so they have variability both within and between clusters.</p>
<p>If one want to specify a variable to be within cluster, meaning to
vary only within a cluster, one can use the keyword
<code>wit: var|cluster</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+.5</span><span class="sc">*</span>x<span class="sc">+</span><span class="dv">2</span><span class="sc">*</span>z<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>school)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>wit<span class="sc">:</span> x<span class="sc">|</span>school </span></code></pre></div>
<p>this indicates that the variable <code>x</code> varies within each
school. If <code>x</code> is categorical, all levels of <code>x</code>
are repeated within each level of the clustering variable. If
<code>x</code> is continuous, <code>x</code> is standardized with each
level of the clustering variable.</p>
<p>If one want to specify a variable to be between clusters, meaning to
vary only across clusters, one can use the keyword
<code>bet: var|cluster</code></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>y<span class="sc">~</span><span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="fl">+.5</span><span class="sc">*</span>x<span class="sc">+</span><span class="dv">2</span><span class="sc">*</span>z<span class="sc">+</span>(<span class="dv">1</span><span class="sc">*</span><span class="dv">1</span><span class="sc">|</span>school)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>bet<span class="sc">:</span> x<span class="sc">|</span>school </span></code></pre></div>
<p>this indicates that the variable <code>x</code> is constant within
each school and varies across schools. If <code>x</code> is categorical,
each cluster level has only one level of <code>x</code>. If
<code>x</code> is continuous, <code>x</code> is constant within each
school and is standardized across levels of the clustering variable.</p>
</div>
</div>
<div id="additional-material" class="section level1">
<h1>Additional material</h1>
</div>
<div id="details" class="section level1 adm adm-seealso">
<h1>Details</h1>
<p>
Some more information about the module specs can be found here
</p>
<ul>
<li>
<a href="./mixed_clusters.html">Mixed models: handling clusters</a>
</li>
<li>
<a href="./mixed_designs.html">Mixed models: Building factorial
designs</a>
</li>
<li>
<a href="./mixed_syntax.html">Mixed models: model syntax</a>
</li>
</ul>
</div>
<div id="examples" class="section level1 adm adm-seealso">
<h1>Examples</h1>
<p>
Some worked out practical examples can be found here
</p>
</div>
<div class="adm adm-seealso backto">
<p>
Return to main help pages
</p>
<a class='backto' href='index.html'>Main page</a>
<a class="backto" href="./mixed.html">Mixed models</a>
</div>
<div id="comments" class="section level1 adm adm-warning">
<h1>Comments?</h1>
<p>
Got comments, issues or spotted a bug? Please open an issue on
<a href="https://github.com/pamlj/pamlj//issues " target="_blank"> PAMLj
at github</a> or <a href="mailto:mcfanda@gmail.com

">send me an email</a>
</p>
</div>
<div id="refs" class="references csl-bib-body hanging-indent"
entry-spacing="0">
<div id="ref-lme4" class="csl-entry">
Bates, Douglas, Martin Mächler, Ben Bolker, and Steve Walker. 2015.
<span>“Fitting Linear Mixed-Effects Models Using <span
class="nocase">lme4</span>.”</span> <em>Journal of Statistical
Software</em> 67 (1): 1–48. <a
href="https://doi.org/10.18637/jss.v067.i01">https://doi.org/10.18637/jss.v067.i01</a>.
</div>
</div>
</div>

   
   
            
      

  <script>
    $(document).ready(function () {

			
 		
		$('#content img:not(.no-lightbox)').addClass("image-lb");
	$('#content').magnificPopup({
	    type:'image',
	    closeOnContentClick: false,
	    closeBtnInside: false,
	    delegate: '.image-lb',
	    gallery: {enabled: false },
	    image: {
	        verticalFit: true,
		titleSrc: 'alt'
	    }
 	});
 	    });
  </script>



    <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
	var script = document.createElement("script");
	script.type = "text/javascript";
	script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
	document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>
  
</body>
</html>
